<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6 - Vertex Processing 2</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/victor-mono@latest/dist/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.css">
    <meta name="description" content="Summarizing key concepts from CS lectures.">
    <meta property="og:title" content="kmbzn">
    <meta property="og:description" content="kmbzn.com">
    <meta property="og:image" content="https://kmbzn.com/images/og-home.png">
    <meta property="og:url" content="https://kmbzn.com">
    <meta property="og:type" content="website">
    
    <link rel="preload" href="/assets/css/0.styles.097f7555.css" as="style"><link rel="preload" href="/assets/js/app.310c4cb0.js" as="script"><link rel="preload" href="/assets/js/18.bb8e1e7a.js" as="script"><link rel="preload" href="/assets/js/2.a3ccddde.js" as="script"><link rel="preload" href="/assets/js/1.93e900e1.js" as="script"><link rel="preload" href="/assets/js/32.5ad841a7.js" as="script"><link rel="preload" href="/assets/js/22.6bbde796.js" as="script"><link rel="prefetch" href="/assets/js/10.6637bfee.js"><link rel="prefetch" href="/assets/js/11.89241896.js"><link rel="prefetch" href="/assets/js/12.1f81aafc.js"><link rel="prefetch" href="/assets/js/13.db5eb42a.js"><link rel="prefetch" href="/assets/js/14.a654c061.js"><link rel="prefetch" href="/assets/js/15.82f66eb5.js"><link rel="prefetch" href="/assets/js/16.41334cbf.js"><link rel="prefetch" href="/assets/js/17.9f4ed163.js"><link rel="prefetch" href="/assets/js/19.6965bf28.js"><link rel="prefetch" href="/assets/js/20.321501ab.js"><link rel="prefetch" href="/assets/js/21.85cd1bb2.js"><link rel="prefetch" href="/assets/js/23.1c6b188d.js"><link rel="prefetch" href="/assets/js/24.bffcbf0e.js"><link rel="prefetch" href="/assets/js/25.bf3894f9.js"><link rel="prefetch" href="/assets/js/26.f69b21dd.js"><link rel="prefetch" href="/assets/js/27.6451fa63.js"><link rel="prefetch" href="/assets/js/28.bc755508.js"><link rel="prefetch" href="/assets/js/29.b47ece12.js"><link rel="prefetch" href="/assets/js/3.7e2f5075.js"><link rel="prefetch" href="/assets/js/30.44fa9bc2.js"><link rel="prefetch" href="/assets/js/31.3f4b63f6.js"><link rel="prefetch" href="/assets/js/33.b5b64d04.js"><link rel="prefetch" href="/assets/js/34.2da64d4c.js"><link rel="prefetch" href="/assets/js/35.646e59d5.js"><link rel="prefetch" href="/assets/js/4.107563ed.js"><link rel="prefetch" href="/assets/js/5.5467bfa0.js"><link rel="prefetch" href="/assets/js/6.e9ea9ee0.js"><link rel="prefetch" href="/assets/js/7.4a5373f5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.663d6e13.js">
    <link rel="stylesheet" href="/assets/css/0.styles.097f7555.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/kmbzn.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ğŸ–¥ï¸ Computer Graphics</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/computer-graphics/1-Course-Intro.html" class="sidebar-link">1-Course-Intro</a></li><li><a href="/computer-graphics/2-Rendering-Basics.html" class="sidebar-link">2-Rendering-Basics</a></li><li><a href="/computer-graphics/3-Transformations-v2.html" class="sidebar-link">3-Transformations-v2</a></li><li><a href="/computer-graphics/4-Affine-Space-Frame_Matrix.html" class="sidebar-link">4-Affine-Space-Frame_Matrix</a></li><li><a href="/computer-graphics/5-Vertex-Processing-1.html" class="sidebar-link">5-Vertex-Processing-1</a></li><li><a href="/computer-graphics/6-Vertex-Processing-2.html" aria-current="page" class="active sidebar-link">6-Vertex-Processing-2</a></li><li><a href="/computer-graphics/7-Hierachical-Modeling-Mesh.html" class="sidebar-link">7-Hierachical-Modeling-Mesh</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_6-vertex-processing-2"><a href="#_6-vertex-processing-2" class="header-anchor">#</a> 6 - Vertex Processing 2</h1> <h2 id="outline"><a href="#outline" class="header-anchor">#</a> Outline</h2> <ul><li><p>Projection Transformation</p> <ul><li>Orthographic Projection</li> <li>Perspective Projection</li></ul></li> <li><p>Viewport Transformation</p></li></ul> <h1 id="projection-transformation"><a href="#projection-transformation" class="header-anchor">#</a> Projection Transformation</h1> <h2 id="projection-transformation-2"><a href="#projection-transformation-2" class="header-anchor">#</a> Projection Transformation</h2> <ul><li>View space â†’ NDC (normalized device coordinate system)ë¡œ ë³€í™˜</li> <li>ìˆ˜ì‹:<div class="language- extra-class"><pre class="language-text"><code>p_c = P * p_v
</code></pre></div>ì—¬ê¸°ì„œ
<ul><li><code>p_v</code>: view space ì¢Œí‘œ</li> <li><code>P</code>: projection matrix</li> <li><code>p_c</code>: clip space (ë˜ëŠ” NDC space) ì¢Œí‘œ</li></ul></li></ul> <h2 id="recall-that"><a href="#recall-that" class="header-anchor">#</a> Recall that...</h2> <ul><li><ol><li>ê°ì²´ ë°°ì¹˜<br>
â†’ Modeling transformation</li></ol></li> <li><ol start="2"><li>&quot;ì¹´ë©”ë¼&quot; ë°°ì¹˜<br>
â†’ Viewing transformation</li></ol></li> <li><ol start="3"><li><strong>&quot;ë Œì¦ˆ&quot; ì„ íƒ</strong>
â†’ <strong>Projection transformation</strong></li></ol></li> <li><ol start="4"><li>&quot;ìŠ¤í¬ë¦°&quot;ì— ì¶œë ¥<br>
â†’ Viewport transformation</li></ol></li></ul> <h2 id="recall-opengl-clip-space"><a href="#recall-opengl-clip-space" class="header-anchor">#</a> Recall: OpenGL Clip Space</h2> <ul><li>Clip Spaceì—ì„œëŠ” x, y, z ì¢Œí‘œê°€ -1ì—ì„œ 1ê¹Œì§€ì¸ cube ê³µê°„ ì•ˆì— ê°ì²´ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆìŒ</li> <li>ì´ ê³µê°„ì˜ xy í‰ë©´ì´ 2D <strong>viewport</strong> ì—­í• ì„ í•¨</li> <li>ì´ ì¢Œí‘œê³„ëŠ” <strong>normalized device coordinate (NDC)</strong> ë¼ê³  ë¶ˆë¦¼</li></ul> <h2 id="normalized-device-coordinates-ndc"><a href="#normalized-device-coordinates-ndc" class="header-anchor">#</a> Normalized Device Coordinates (NDC)</h2> <ul><li><p>**Normalized device coordinates (NDC)**ëŠ” ì¥ì¹˜ ë…ë¦½ì ì¸ ë””ìŠ¤í”Œë ˆì´ ì¢Œí‘œê³„ì´ë‹¤</p> <ul><li>í”½ì…€ í¬ê¸°, í•´ìƒë„ ë“±ì´ ë‹¤ë¥¸ ë‹¤ì–‘í•œ ë””ìŠ¤í”Œë ˆì´ ì¥ì¹˜ì—ì„œë„ í”„ë¡œê·¸ë¨ì´ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´<br> <strong>ì •ê·œí™”ëœ ì¢Œí‘œê³„</strong>ê°€ í•„ìš”í•˜ë‹¤</li></ul></li> <li><p>ì´ ì¢Œí‘œê³„ì—ì„œì˜ ê³µê°„ì„ <strong>clip space</strong> ë˜ëŠ” <strong>NDC space</strong>ë¼ê³ ë„ ë¶€ë¥¸ë‹¤</p> <ul><li>ë‹¨, clip spaceì™€ NDC spaceëŠ” ì•½ê°„ì˜ ì°¨ì´ê°€ ìˆìœ¼ë¯€ë¡œ<br>
ì´ëŠ” ì´ë²ˆ ê°•ì˜ì—ì„œ ìì„¸íˆ ë‹¤ë£¸</li></ul></li></ul> <h2 id="canonical-view-volume"><a href="#canonical-view-volume" class="header-anchor">#</a> Canonical View Volume</h2> <ul><li><strong>Canonical view volume</strong>ì€ NDC ê³µê°„ ë‚´ì˜ 3ì°¨ì› ë³¼ë¥¨ì´ë©°, í™”ë©´ì— í‘œì‹œë  ìˆ˜ ìˆëŠ” ì¥ë©´ì˜ ì˜ì—­ì„ ì •ì˜í•œë‹¤.</li> <li>OpenGL ê¸°ì¤€: <code>[-1, 1]^3</code> ë²”ìœ„</li> <li>Direct3D ê¸°ì¤€: <code>[0, 1]</code> ë²”ìœ„ (zì¶•ë§Œ ë‹¤ë¦„)</li> <li>canonical view volume ì•ˆì— ìˆëŠ” ê°ì²´ë§Œ ë Œë”ë§ëœë‹¤.
<ul><li>ì¹´ë©”ë¼ ë·° ì•ˆì— ìˆëŠ” ê°ì²´ë§Œ ê·¸ë ¤ì§</li> <li>ë„ˆë¬´ ë©€ê±°ë‚˜ ë„ˆë¬´ ê°€ê¹Œìš´ ê°ì²´ëŠ” ì œì™¸ë¨</li></ul></li></ul> <h2 id="canonical-view-volume-2"><a href="#canonical-view-volume-2" class="header-anchor">#</a> Canonical View Volume</h2> <ul><li>ê´€ë¡€ì ìœ¼ë¡œ NDCëŠ” <strong>left-handed</strong> ì¢Œí‘œê³„ì„ (OpenGLê³¼ Direct3D ëª¨ë‘)
<ul><li>NDCì—ì„œ <strong>+z ë°©í–¥</strong>ì´ í™”ë©´ ë°©í–¥</li></ul></li> <li>OpenGLì˜ projection í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ ì¢Œí‘œê³„ ì†ì¡ì´(handedness)ë¥¼ ë°”ê¿”ì¤Œ â†’ <strong>world/model spaceëŠ” right-handed</strong> <ul><li>View direction in view space: -z ë°©í–¥</li> <li>Direct3DëŠ” ê¸°ë³¸ì ìœ¼ë¡œ left-handed systemì„ ì‚¬ìš©í•˜ë‚˜, ì´ ë³€ê²½ì„ í•˜ì§€ ì•ŠìŒ</li></ul></li></ul> <h2 id="view-volume"><a href="#view-volume" class="header-anchor">#</a> View Volume</h2> <ul><li>View spaceì—ì„œëŠ” ê°ì²´ë¥¼ ê¼­ <code>[-1, 1]</code> ë²”ìœ„ ì•ˆì— ë°°ì¹˜í•  í•„ìš”ëŠ” ì—†ë‹¤.</li> <li>ëŒ€ì‹ , ì›í•˜ëŠ” í¬ê¸°ì˜ ì§ìœ¡ë©´ì²´(cuboid)ë‚˜ frustum í˜•íƒœì˜ volumeì„ ì„¤ì •í•˜ê³  ê·¸ ì•ˆì— ê°ì²´ë¥¼ ë°°ì¹˜í•  ìˆ˜ ìˆë‹¤.</li> <li>ì´ view volume (ë° ê·¸ ì•ˆì˜ ëª¨ë“  ê°ì²´)ì€ <strong>canonical view volume in NDC space</strong>ë¡œ íˆ¬ì˜ëœë‹¤.</li></ul> <p>â†’ <strong>Projection transformation</strong></p> <h2 id="projection-transformation-3"><a href="#projection-transformation-3" class="header-anchor">#</a> Projection Transformation</h2> <ul><li>CGì—ì„œì˜ Projectionì´ë€: <strong>3D ì¢Œí‘œë¥¼ 2D í™”ë©´ ì¢Œí‘œë¡œ ë§¤í•‘</strong>í•˜ëŠ” ê²ƒ</li> <li>ìˆ˜í–‰ ìˆœì„œ:
<ul><li>3D ê³µê°„ìƒì˜ arbitrary view volume â†’ canonical view volumeìœ¼ë¡œ ë§¤í•‘<br>
â†’ <strong>Projection transformation</strong></li> <li>canonical view volumeì˜ z=1 í‰ë©´ì— íˆ¬ì˜ (ì‹¤ì œë¡œ ê·¸ë ‡ê²Œ ë˜ì§„ ì•Šì§€ë§Œ, ê°œë…ì ìœ¼ë¡œëŠ” ê¹Šì´(depth)ë¥¼ ë”°ë¡œ ìœ ì§€)</li></ul></li> <li>íˆ¬ì˜ ë³€í™˜ ë°©ì‹ì€ í¬ê²Œ 2ê°€ì§€:
<ul><li>Orthographic projection</li> <li>Perspective projection</li></ul></li></ul> <h2 id="orthographic-orthogonal-projection"><a href="#orthographic-orthogonal-projection" class="header-anchor">#</a> Orthographic (Orthogonal) Projection</h2> <ul><li>View volume: ì§ìœ¡ë©´ì²´ (cuboid)</li> <li>Orthographic projection: ì§ìœ¡ë©´ì²´ view volumeì„ canonical view volumeë¡œ ë§¤í•‘
<ul><li>Scaling + Translation ì¡°í•©</li> <li>â†’ <strong>Windowing transformation</strong></li></ul></li></ul> <h2 id="windowing-transformation"><a href="#windowing-transformation" class="header-anchor">#</a> Windowing Transformation</h2> <ul><li>ì‚¬ê°í˜• ê³µê°„ ë‚´ ì  <code>(p_x, p_y)</code>ì„ ë‹¤ë¥¸ ì‚¬ê°í˜• ê³µê°„ì˜ ëŒ€ì‘ ì  <code>(p_x', p_y')</code>ë¡œ ë§¤í•‘í•˜ëŠ” ë³€í™˜
<ul><li>ì˜ˆ: <code>(x_l, y_l)</code> ~ <code>(x_r, y_r)</code> â†’ <code>(x_l', y_l')</code> ~ <code>(x_r', y_r')</code></li></ul></li></ul> <p>ìˆ˜ì‹:</p> <div class="language- extra-class"><pre class="language-text"><code>p'_x = ((p_x - x_l) / (x_r - x_l)) * (x_r' - x_l') + x_l'
p'_y = ((p_y - y_l) / (y_r - y_l)) * (y_r' - y_l') + y_l'
</code></pre></div><h2 id="orthographic-projection-matrix"><a href="#orthographic-projection-matrix" class="header-anchor">#</a> Orthographic Projection Matrix</h2> <ul><li>3Dê¹Œì§€ í™•ì¥í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ëŒ€ì…:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>x_r = right, x_l = left
y_t = top, y_b = bottom
z_f = far, z_n = near

P_orth = 
| 2/(x_r - x_l)   0               0              -(x_r + x_l)/(x_r - x_l) |
| 0              2/(y_t - y_b)   0              -(y_t + y_b)/(y_t - y_b) |
| 0              0              -2/(z_f - z_n)  -(z_f + z_n)/(z_f - z_n) |
| 0              0               0               1                       |
</code></pre></div><h2 id="examples-of-orthographic-projection"><a href="#examples-of-orthographic-projection" class="header-anchor">#</a> Examples of Orthographic Projection</h2> <ul><li>Orthographic ë° ë“±ê°(isometric) íˆ¬ì˜ ì˜ˆì‹œ</li> <li><strong>ê°ì²´ëŠ” ì¹´ë©”ë¼ë¡œë¶€í„°ì˜ ê±°ë¦¬ì™€ ë¬´ê´€í•˜ê²Œ í•­ìƒ ë™ì¼í•œ í¬ê¸°ë¡œ ë³´ì„</strong></li></ul> <h2 id="properties-of-orthographic-projection"><a href="#properties-of-orthographic-projection" class="header-anchor">#</a> Properties of Orthographic Projection</h2> <ul><li>ì‚¬ì‹¤ì ìœ¼ë¡œ ë³´ì´ì§€ ì•ŠìŒ</li> <li><strong>ì •í™•í•œ ì¸¡ì •</strong>ì— ì í•©</li> <li>CAD, ê±´ì¶• ë„ë©´ ë“±ì—ì„œ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë¨
<ul><li>ì •í™•í•œ ì¸¡ì •ì´ ì¤‘ìš”í•œ í™˜ê²½</li></ul></li> <li>Scalingê³¼ Translationì˜ ì¡°í•©<br>
â†’ <strong>Affine transformation</strong></li></ul> <h2 id="demo-orthographic-projection"><a href="#demo-orthographic-projection" class="header-anchor">#</a> [Demo] Orthographic Projection</h2> <ul><li>ìŠ¬ë¼ì´ë”ë¥¼ ì›€ì§ì´ë©° ì™¼ìª½(view volume)ê³¼ ì˜¤ë¥¸ìª½(rendered view)ì„ ê´€ì°°</li> <li>ì™¼ìª½, ì˜¤ë¥¸ìª½, ì•„ë˜, ìœ„, ê°€ê¹Œì›€, ë©€ë¦¬ ìœ„ì¹˜ë¥¼ ì¡°ì ˆ ê°€ëŠ¥</li></ul> <h2 id="quiz-1"><a href="#quiz-1" class="header-anchor">#</a> Quiz 1</h2> <h2 id="perspective-effects"><a href="#perspective-effects" class="header-anchor">#</a> Perspective Effects</h2> <ul><li>ë©€ë¦¬ ìˆëŠ” ê°ì²´ëŠ” ì‘ê²Œ ë³´ì„</li></ul> <p><strong>Vanishing point</strong>:</p> <ul><li>íˆ¬ì‹œ ê·¸ë¦¼ë²•ì—ì„œ <strong>í‰í–‰ì„ ì´ ìˆ˜ë ´í•´ ë³´ì´ëŠ” ì </strong></li> <li>í‰ë©´ íˆ¬ì‹œì—ì„œ ì›ê·¼ê°ì„ ë¶€ì—¬í•˜ëŠ” í•µì‹¬ ìš”ì†Œ</li></ul> <h2 id="perspective-projection"><a href="#perspective-projection" class="header-anchor">#</a> Perspective Projection</h2> <ul><li><p>View volume: <strong>Frustum (ì ˆë‘ì²´)</strong>
â†’ &quot;Viewing frustum&quot;</p></li> <li><p>Perspective projection: Viewing frustumì„ canonical view volumeë¡œ ë§¤í•‘</p></li> <li><p>ì •ì ë“¤ì„ canonical view volumeë¡œ ë¹„ì„ í˜•ì ìœ¼ë¡œ ë§¤í•‘
â†’ ê¹Šì´ì— ë”°ë¥¸ ì™œê³¡ íš¨ê³¼ ìƒì„±</p></li></ul> <h2 id="why-does-this-mapping-generate-a-perspective-effect"><a href="#why-does-this-mapping-generate-a-perspective-effect" class="header-anchor">#</a> Why does this mapping generate a perspective effect?</h2> <ul><li>ì›ë˜ 3D ì¥ë©´ì—ì„œ ì¹´ë©”ë¼ ê¸°ì¤€ìœ¼ë¡œ ë©€ì–´ì§ˆìˆ˜ë¡ zê°’ ì¦ê°€</li> <li>canonical ê³µê°„ìœ¼ë¡œ íˆ¬ì˜í•  ë•Œ zì— ë”°ë¼ ë¹„ì„ í˜•ì ìœ¼ë¡œ ì¶•ì†Œë¨</li> <li><strong>ê°€ê¹Œìš´ ê°ì²´ëŠ” í¬ê²Œ, ë¨¼ ê°ì²´ëŠ” ì‘ê²Œ</strong> íˆ¬ì˜ë¨<br>
â†’ ì´ê²ƒì´ perspective íš¨ê³¼ì˜ ë³¸ì§ˆ</li></ul> <h2 id="an-example-of-perspective-projection"><a href="#an-example-of-perspective-projection" class="header-anchor">#</a> An Example of Perspective Projection</h2> <p><strong>After perspective projection</strong></p> <ul><li>Frustum ë‚´ì— ìˆëŠ” ê°ì²´ë“¤ì´ canonical ê³µê°„ì— ë¹„ì„ í˜•ì ìœ¼ë¡œ ì••ì¶•ë¨</li> <li>ì¹´ë©”ë¼ì— ê°€ê¹Œìš´ ê°ì²´ëŠ” ë” í¬ê²Œ, ë©€ë¦¬ ìˆëŠ” ê°ì²´ëŠ” ë” ì‘ê²Œ ë³´ì„</li></ul> <h2 id="an-example-of-perspective-projection-2"><a href="#an-example-of-perspective-projection-2" class="header-anchor">#</a> An Example of Perspective Projection</h2> <ul><li>Canonical ê³µê°„ì˜ ê²°ê³¼ë¥¼ 2D í™”ë©´ì— í‘œì‹œ</li> <li>ìˆ˜í‰ ë°©í–¥: 1024px</li> <li>ìˆ˜ì§ ë°©í–¥: 768px</li> <li>ì¹´ë©”ë¼ì˜ viewport ë‚´ì— ê°ì²´ë“¤ì´ ê¹Šì´ì— ë”°ë¼ ë‹¬ë¦¬ í‘œí˜„ë¨</li></ul> <h2 id="let-s-first-consider-3d-view-frustum-â†’-2d-projection-plane"><a href="#let-s-first-consider-3d-view-frustum-â†’-2d-projection-plane" class="header-anchor">#</a> Let's first consider 3D View Frustum â†’ 2D Projection Plane</h2> <ul><li>3D ì ì„ ì¹´ë©”ë¼ í‰ë©´ì— íˆ¬ì˜í•˜ëŠ” ê³¼ì •ì„ ê³ ë ¤í•´ë³´ì</li></ul> <h2 id="perspective-projection-2"><a href="#perspective-projection-2" class="header-anchor">#</a> Perspective projection</h2> <ul><li><p>í™”ë©´ ìœ„ì˜ ê°ì²´ í¬ê¸°ëŠ” <strong>ì¹´ë©”ë¼ë¡œë¶€í„°ì˜ ê±°ë¦¬</strong>ì— ë°˜ë¹„ë¡€í•¨</p></li> <li><p>ìœ ì‚¬í•œ ì‚¼ê°í˜•ì˜ ì„±ì§ˆ:</p> <div class="language- extra-class"><pre class="language-text"><code>y' / d = y / -z
â‡’ y' = -dÂ·y / z
</code></pre></div></li></ul> <h2 id="homogeneous-coordinates-revisited"><a href="#homogeneous-coordinates-revisited" class="header-anchor">#</a> Homogeneous coordinates revisited</h2> <ul><li>PerspectiveëŠ” ë‚˜ëˆ—ì…ˆ ì—°ì‚°ì´ í•„ìš”í•¨
<ul><li>ì´ëŠ” <strong>Affine transformationì—ëŠ” í¬í•¨ë˜ì§€ ì•ŠìŒ</strong></li></ul></li> <li>Affineì—ì„œëŠ” í‰í–‰ì„ ì´ í‰í–‰í•˜ê²Œ ìœ ì§€ë¨
<ul><li>ë”°ë¼ì„œ ì†Œì‹¤ì  ì—†ìŒ</li> <li>ë·°í¬ì¸íŠ¸ë¡œ ìˆ˜ë ´í•˜ëŠ” ê´‘ì„ ë„ ì—†ìŒ</li></ul></li> <li><strong>Homogeneous coordinatesì˜ ë³¸ë˜ ëª©ì ì€ íˆ¬ì˜ êµ¬í˜„</strong>ì— ìˆìŒ</li></ul> <h2 id="homogeneous-coordinates-revisited-2"><a href="#homogeneous-coordinates-revisited-2" class="header-anchor">#</a> Homogeneous coordinates revisited</h2> <ul><li><code>w = 1</code> ì¢Œí‘œë¥¼ ìë¦¬ í‘œì‹œìë¡œ ë„ì…
<ul><li>translationì„ ì„ í˜• ë³€í™˜ê³¼ í†µí•©í•˜ëŠ” ë° í¸ë¦¬</li></ul></li> <li>ì„ì˜ì˜ wë„ í—ˆìš© ê°€ëŠ¥:<div class="language- extra-class"><pre class="language-text"><code>[x  ]      [kx  ]
[y  ]  ~   [ky  ]
[z  ]      [kz  ]
[w  ]      [kw  ]
</code></pre></div><ul><li>4D ë²¡í„°ì˜ <strong>ìŠ¤ì¹¼ë¼ ë°°ìˆ˜ëŠ” ë™ì¼í•œ ì¢Œí‘œë¡œ ê°„ì£¼</strong></li></ul></li></ul> <h2 id="perspective-projection-3"><a href="#perspective-projection-3" class="header-anchor">#</a> Perspective projection</h2> <ul><li><p>íˆ¬ì˜ í‰ë©´ì— íˆ¬ì˜í•˜ë ¤ë©´, zë¥¼ wë¡œ ì˜®ê²¨ì„œ ë‹¤ìŒê³¼ ê°™ì´ ë³€í™˜:</p> <div class="language- extra-class"><pre class="language-text"><code>[x']   = [-dÂ·x/z]     [dz  0   0   0 ]   [x]
[y']     [-dÂ·y/z]  =  [0  dz   0   0 ] * [y]
[ 1 ]     [   1 ]     [0   0   0  -1 ]   [z]
                       [0   0   1   0 ]   [1]
</code></pre></div></li></ul> <h2 id="so-far-3d-â†’-2d"><a href="#so-far-3d-â†’-2d" class="header-anchor">#</a> So far, 3D â†’ 2D</h2> <ul><li>ì§€ê¸ˆê¹Œì§€ëŠ” ë‹¨ì§€<br> <strong>3D View Frustum â†’ 2D Projection Plane</strong><br>
ë¡œì˜ íˆ¬ì˜ ì´ì•¼ê¸°ì˜€ìŒ</li></ul> <h2 id="now-3d-â†’-3d"><a href="#now-3d-â†’-3d" class="header-anchor">#</a> Now, 3D â†’ 3D</h2> <ul><li><p>ê·¸ëŸ¬ë‚˜ ì‹¤ì œë¡œ ìš°ë¦¬ê°€ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê²ƒì€<br> <strong>3D View Frustum â†’ 3D Canonical View Volume</strong></p></li> <li><p>ì¦‰, ì›ê·¼ íˆ¬ì˜ ì´í›„ì—ë„ (x', y', z') ì¢Œí‘œëŠ” ìœ ì§€ë˜ì–´ì•¼ í•¨<br>
â†’ clip spaceì˜ ê¹Šì´ ì •ë³´ê°€ í•„ìš”</p></li></ul> <h2 id="first-3d-view-frustum-â†’-3d-cuboid"><a href="#first-3d-view-frustum-â†’-3d-cuboid" class="header-anchor">#</a> First, 3D View Frustum â†’ 3D Cuboid</h2> <ul><li><p>ìš°ì„ ì€ canonical volumeì´ ì•„ë‹Œ, near/far í‰ë©´ì´ ê°™ì€ ìœ„ì¹˜ì˜ cuboidë¥¼ ê³ ë ¤</p></li> <li><p>x, y ì¢Œí‘œì— ëŒ€í•´ ì´ì „ ìŠ¬ë¼ì´ë“œì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ íˆ¬ì˜ ê°€ëŠ¥:</p> <div class="language- extra-class"><pre class="language-text"><code>y' = -dÂ·y / z
x' = -dÂ·x / z
</code></pre></div></li> <li><p>near/far offsetì´ ë™ì¼í•œ cuboidë¥¼ ê³ ë ¤</p></li> <li><p>ë¬¸ì œëŠ” z ì¢Œí‘œ:</p> <ul><li>ê¹Šì´ zëŠ” ë³´ì¡´ë˜ì§€ ì•ŠìŒ (zê°€ ë‚˜ëˆ—ì…ˆ ì—°ì‚° í¬í•¨ â†’ ë¹„ì„ í˜•)</li> <li>í•´ê²°: z ê°’ì„ ì ì ˆíˆ ë§¤í•‘í•˜ì—¬ near/far í‰ë©´ì˜ ê¹Šì´ ì •ë³´ë¥¼ ìœ ì§€</li></ul></li></ul> <h2 id="_3d-view-frustum-â†’-3d-cuboid"><a href="#_3d-view-frustum-â†’-3d-cuboid" class="header-anchor">#</a> 3D View Frustum â†’ 3D Cuboid</h2> <ul><li><p>z ê°’ê¹Œì§€ í¬í•¨í•˜ì—¬ ì „ì²´ë¥¼ í–‰ë ¬ë¡œ í‘œí˜„:</p> <div class="language- extra-class"><pre class="language-text"><code>[x']   = [-dx/z]       [dz  0   0   0 ]   [x]
[y']     [-dy/z]   =   [0  dz   0   0 ] * [y]
[z']     [-X/z ]       [0   0   a   b ]   [z]
[ 1 ]     [  1 ]       [0   0  -1   0 ]   [1]
</code></pre></div></li> <li><p>x, yì—ëŠ” ì˜í–¥ ì—†ìŒ â†’ z'ëŠ” x, yì™€ ë¬´ê´€</p> <ul><li>ë”°ë¼ì„œ câ‚€ = câ‚ = 0</li></ul></li> <li><p>ì›í•˜ëŠ” ì¡°ê±´:</p> <ul><li>z'(-n) = n</li> <li>z'(-f) = f</li></ul></li> <li><p>ì„ í˜•ì‹ìœ¼ë¡œ z' ì •ì˜: <code>z'(z) = (aÂ·z + b) / -z</code></p></li> <li><p>ë‘ ê°œì˜ ë¯¸ì§€ìˆ˜ a, bë¥¼ ë‘ ì¡°ê±´ì— ëŒ€ì…í•´ í•´ êµ¬í•¨</p> <ul><li>í•´: <code>a = fn</code>, <code>b = f + n</code></li></ul></li></ul> <h2 id="final-3d-view-frustum-â†’-3d-canonical-view-volume"><a href="#final-3d-view-frustum-â†’-3d-canonical-view-volume" class="header-anchor">#</a> Final: 3D View Frustum â†’ 3D Canonical View Volume</h2> <ul><li><code>P_pers = P_orth Â· P_dc</code></li> <li>P_dc í–‰ë ¬ (near, far ë°˜ì˜):<div class="language- extra-class"><pre class="language-text"><code>[n   0   0   0]
[0   n   0   0]
[0   0  f+n fn]
[0   0  -1   0]
</code></pre></div></li> <li>frustum â†’ cuboid â†’ canonical volume ìœ¼ë¡œ ë³€í™˜</li></ul> <h2 id="perspective-projection-matrix"><a href="#perspective-projection-matrix" class="header-anchor">#</a> Perspective Projection Matrix</h2> <ul><li><p>ìµœì¢… perspective projection í–‰ë ¬:</p> <div class="language- extra-class"><pre class="language-text"><code>P_pers = P_orth Â· P_dc =

[n/r  0     0         0   ]
[0    n/t   0         0   ]
[0    0   (f+n)/(n-f) fnf/(n-f)]
[0    0    -1         0   ]
</code></pre></div></li></ul> <h2 id="note-on-mapped-depth-z-value"><a href="#note-on-mapped-depth-z-value" class="header-anchor">#</a> Note on Mapped Depth (Z' value)</h2> <ul><li>Perspective projectionì€ ê¹Šì´ z ê°’ì„ (-1, +1) ë²”ìœ„ë¡œ <strong>ë¹„ì„ í˜• ë§¤í•‘</strong></li> <li>ê²°ê³¼:
<ul><li>ì¹´ë©”ë¼ ê°€ê¹Œì´ì˜ z ê°’ì¼ìˆ˜ë¡ ì •ë°€ë„ê°€ ë†’ìŒ</li> <li>ë©€ìˆ˜ë¡ ì •ë°€ë„ê°€ ë‚®ì•„ì§</li></ul></li> <li>ê·¸ë˜í”„:
<ul><li>Xì¶•: z ê°’ (ì›ë˜ ê¹Šì´)</li> <li>Yì¶•: ë§¤í•‘ëœ z' ê°’</li></ul></li></ul> <h2 id="perspective-division-clip-ndc-space"><a href="#perspective-division-clip-ndc-space" class="header-anchor">#</a> Perspective Division, Clip / NDC Space</h2> <ul><li>clip space: shader ì´í›„ ì¥ë©´ í‘œí˜„ (4D homogeneous)</li> <li>NDC space: perspective division ì´í›„ì˜ 3D ì¢Œí‘œê³„
<ul><li>wë¡œ ë‚˜ëˆ ì„œ [x/w, y/w, z/w] í˜•íƒœë¡œ ë³€í™˜ë¨</li></ul></li> <li>ì‹¤ì œ í‘œí˜„ë˜ëŠ” ë²”ìœ„: [-1, 1]</li></ul> <h2 id="demo-perspective-projection-frustum"><a href="#demo-perspective-projection-frustum" class="header-anchor">#</a> [Demo] Perspective Projection - frustum</h2> <ul><li>ì›¹ ë°ëª¨: https://learnwebgl.brown37.net/08_projections/create_frustum/create_frustum.html</li> <li>ìŠ¬ë¼ì´ë”ë¡œ left, right, top, near, far ê°’ì„ ì¡°ì ˆí•˜ë©° ë³€í™” í™•ì¸</li></ul> <h2 id="demo-perspective-projection-perspective"><a href="#demo-perspective-projection-perspective" class="header-anchor">#</a> [Demo] Perspective Projection - perspective</h2> <ul><li>ì›¹ ë°ëª¨: https://learnwebgl.brown37.net/08_projections/create_perspective/create_perspective.html</li> <li>ìŠ¬ë¼ì´ë”ë¥¼ ì´ìš©í•´ <code>fovy</code>, <code>aspect</code>, <code>near</code>, <code>far</code> ì¡°ì ˆ</li> <li><strong>frustum</strong>ê³¼ <strong>perspective</strong> ì¤‘ ì–´ë–¤ ê²ƒì´ ë” í¸ë¦¬í•œê°€?</li></ul> <h2 id="quiz-2"><a href="#quiz-2" class="header-anchor">#</a> Quiz 2</h2> <h1 id="viewport-transformation"><a href="#viewport-transformation" class="header-anchor">#</a> Viewport Transformation</h1> <h2 id="viewport-transformation-2"><a href="#viewport-transformation-2" class="header-anchor">#</a> Viewport Transformation</h2> <ul><li>Viewport transformationì€ NDC ê³µê°„ì—ì„œ í™”ë©´ ê³µê°„(screen space)ìœ¼ë¡œ ë³€í™˜</li> <li>ë§ˆì§€ë§‰ ë‹¨ê³„ì˜ ë³€í™˜: clip space â†’ screen space</li> <li>ì¢Œí‘œê³„ ë²”ìœ„:
<ul><li>NDC: (-1, -1, -1) ~ (1, 1, 1)</li> <li>Screen: (0, 0, 0) ~ (width, height, 1)</li></ul></li></ul> <h2 id="recall-that-2"><a href="#recall-that-2" class="header-anchor">#</a> Recall that...</h2> <ul><li><ol><li>ê°ì²´ ë°°ì¹˜
â†’ Modeling transformation</li></ol></li> <li><ol start="2"><li>ì¹´ë©”ë¼ ë°°ì¹˜
â†’ Viewing transformation</li></ol></li> <li><ol start="3"><li>ë Œì¦ˆ ì„¤ì •
â†’ Projection transformation</li></ol></li> <li><ol start="4"><li><strong>&quot;ìŠ¤í¬ë¦°ì— ì¶œë ¥&quot;</strong>
â†’ <strong>Viewport transformation</strong></li></ol></li></ul> <h2 id="viewport-transformation-3"><a href="#viewport-transformation-3" class="header-anchor">#</a> Viewport Transformation</h2> <ul><li>Canonical view volume (NDC)ì—ì„œ zë°©í–¥ +ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë ¤ë‹¤ë³¸ë‹¤ê³  ê°€ì •</li> <li>ViewportëŠ” screen ìƒì˜ ì‚¬ê°í˜• ì˜ì—­</li> <li>Viewport transformationë„ ê²°êµ­ <strong>windowing transformation</strong>ì˜ ì¼ì¢…</li> <li>ê¹Šì´ ê°’(z)ì€ [0, 1] ë²”ìœ„ë¡œ ì¬ë§¤í•‘ë¨ (default depth buffer)</li></ul> <h2 id="viewport-transformation-matrix"><a href="#viewport-transformation-matrix" class="header-anchor">#</a> Viewport Transformation Matrix</h2> <ul><li>windowing transformation matrixì—ì„œ,
<ul><li><code>x_p, x_l, x_h ...</code> ëŒ€ì‹  viewport ë³€ìˆ˜ ëŒ€ì…</li></ul></li> <li>ë³€í™˜ í–‰ë ¬:<div class="language- extra-class"><pre class="language-text"><code>T_vp =
[ width/2     0          0    width/2 + x_min ]
[   0       height/2     0    height/2 + y_min]
[   0          0       1/2         1/2       ]
[   0          0         0           1       ]
</code></pre></div></li> <li><code>(x_min, y_min)</code>ë¶€í„° ì‹œì‘í•˜ì—¬ <code>(width, height)</code> í¬ê¸° í™”ë©´ ì¢Œí‘œë¡œ ì´ë™</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/computer-graphics/5-Vertex-Processing-1.html" class="prev">
        5-Vertex-Processing-1
      </a></span> <span class="next"><a href="/computer-graphics/7-Hierachical-Modeling-Mesh.html">
        7-Hierachical-Modeling-Mesh
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.310c4cb0.js" defer></script><script src="/assets/js/18.bb8e1e7a.js" defer></script><script src="/assets/js/2.a3ccddde.js" defer></script><script src="/assets/js/1.93e900e1.js" defer></script><script src="/assets/js/32.5ad841a7.js" defer></script><script src="/assets/js/22.6bbde796.js" defer></script>
  </body>
</html>
